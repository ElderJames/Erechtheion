<?xml version="1.0" encoding="utf-8" ?>
<SmartSqlMap Scope="Topic"  xmlns="http://SmartSql.net/schemas/SmartSqlMap.xsd">
  <Statements>
    <Statement Id="QueryFields">
      SELECT * FROM Topic
    </Statement>

    <Statement Id="QueryParams">
      <Where>
        <IsNotEmpty Prepend="and" Property="Id">
          Id = @Id
        </IsNotEmpty>
      </Where>
    </Statement>

    <Statement Id="QueryTopic">
      <Include RefId="QueryFields" />
      <Include RefId="QueryParams" />
    </Statement>

    <Statement Id="QueryTopicPaged">
      <Include RefId="QueryFields" />
      <Include RefId="QueryParams" />
      LIMIT @StartIndex,@PageSize;
    </Statement>

    <Statement Id="QueryTopicCount">
      SELECT COUNT(Id) From Topic
      <Include RefId="QueryParams" />
    </Statement>
  </Statements>
</SmartSqlMap>